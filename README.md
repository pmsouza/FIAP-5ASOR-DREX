# FIAP-5ASOR-DREX
MBA FIAP (Arquitetura de Soluções) - Trabalho de Conclusão de Arquitetura da Escolha (UX, Design Thinking e Modern Web)

Leonardo Carneiro Pinho
EQUIPE
- Alex Souza Silva
- Eudes Machado
- Flávia Mendanha
- Phillipe Mutschaeweski
- Sandro Pinheiro Lopes

**CONTEXTO GERAL**

Atualmente, mais de 130 países e uniões monetárias, representando 98% do PIB global, estão explorando Central Bank Digital Currencies, ou Moeda Digital Emitida por Banco Central, em tradução livre. 

Uma CBDC é, basicamente, uma versão virtual da moeda de um país, usada para realizar compras, estipular o valor de um produto, guardar para o futuro, entre outras finalidades. Atualmente, boa parte das transações já é feita na forma digital. A diferença é que, hoje, a única forma de muitos bancos centrais emitirem dinheiro é por meio de notas e moedas em espécie.

**Existem dois tipos de CBDC:**

CBDC de varejo (rCBDC): é usada pelo público em geral para transações comerciais e ponto a ponto. A título de exemplo, uma rCBDC seria usada para comprar um tênis ou um eletrodoméstico, por exemplo.

CBDC de atacado (wCBDC): A wCBDC é usada por instituições financeiras para liquidar transações interbancárias e de títulos. Seu uso é comparável ao de transações interbancárias com reservas do banco central.

CDBC's são diferentes de criptomoedas, já que no segundo caso, as mesmas não são emitidas e apoiadas por um banco central - e sim por empresas privadas. No entanto, ambas assemelham-se no aspecto tecnológico, já que podem ser executadas em tecnologia de razão distribuída, o que significa que centenas de dispositivos em todo o mundo são responsáveis ​​por realizar e verificar transações. Uma forma de criptomoeda, uma stablecoin, pode ser atrelada a uma moeda fiduciária.

**CENÁRIO GLOBAL E PRINCIPAIS HIGHLIGHTS**

134 países e uniões monetárias, representando 98% do PIB global, estão explorando uma CBDC. Em maio de 2020, esse número era de apenas 35. Atualmente, 66 países estão em fase avançada de exploração — desenvolvimento, piloto ou lançamento.

<img width="575" alt="img-mapa-cdbc-mundo" src="https://github.com/user-attachments/assets/6819fee9-2840-4bb2-bc8c-5822a95167c5">

- Cada país do G20 está explorando uma CBDC, com 19 deles em estágios avançados de exploração de CBDC. Destes, 13 países já estão no estágio piloto. Isso inclui Brasil, Japão, Índia, Austrália, Rússia e Turquia.

- 3 países lançaram totalmente uma CBDC — Bahamas, Jamaica e Nigéria. Na Nigéria e nas Bahamas, a emissão de CBDC aumentou substancialmente. Todos os três países estão focados em expandir o alcance de suas CBDCs de varejo domesticamente.

- Há um novo recorde de 44 pilotos de CBDC em andamento, incluindo o euro digital. Os países europeus — tanto na zona do euro quanto fora — estão testando cada vez mais CBDCs de atacado, tanto internamente quanto além das fronteiras.

- Todos os estados-membros originais do BRICS — Brasil, Rússia, Índia, China e África do Sul — estão pilotando um CBDC. Desde o ano passado, o BRICS tem promovido ativamente o desenvolvimento de um sistema de pagamentos alternativo ao dólar.

**VANTAGENS E DESAFIOS NA ADOÇÃO**

Há muitas razões para explorar **moedas digitais**, e a motivação de diferentes países para emitir CBDCs depende de sua situação econômica:

- promover a inclusão financeira ao fornecer acesso fácil e seguro ao dinheiro para populações sem conta bancária ou sub bancarizadas; 
- introduzir competição e resiliência no mercado doméstico de pagamentos
- aumentar a eficiência em pagamentos e reduzir custos de transação; 
- criar dinheiro programável e melhorar a transparência nos fluxos de dinheiro
- fornecer o fluxo fácil e contínuo de política monetária e fiscal

Assim como existem vantagens, é possível observar desafios, e cada um deles precisa de consideração cuidadosa antes que um país lance uma CBDC. Nesta seção, elencamos desafios importantes a serem considerados:

Os cidadãos podem sacar muito dinheiro dos bancos de uma só vez comprando CBDCs, desencadeando uma corrida aos bancos — afetando sua capacidade de emprestar e enviando um choque às taxas de juros. Isso é especialmente um problema para países com sistemas financeiros instáveis. 

As CBDCs também carregam riscos operacionais, pois são vulneráveis ​​a ataques cibernéticos e precisam ser tornadas resilientes contra eles. 

As CBDCs exigem uma estrutura regulatória complexa, incluindo privacidade, proteção ao consumidor e padrões antilavagem de dinheiro, que precisam ser tornados mais robustos antes da adoção dessa tecnologia.

**DREX - O REAL DIGITAL**

O DREX é a primeira moeda digital oficial do país. A iniciativa do Banco Central do Brasil se trata de uma extensão da nossa moeda física, e a partir dela, será possível efetuar transações em contexto digital.

A sigla faz alusão a tais conceitos, sendo o digital representado pela letra D, o Real representado pela letra R e o sentido de conexão, representado pela letra X.

O Brasil iniciou os estudos para o lançamento do DREX em 2020. Em março de 2023, foi iniciada uma fase de testes com uma versão piloto do DREX entre instituições autorizadas e usuários finais simulados. A expectativa do Bacen é permitir que a população comece a testar a plataforma no fim de 2024 ou início de 2025.

Abaixo, a visão dos principais marcos de implantação do DREX:

<img width="557" alt="img-roadmap-drex" src="https://github.com/user-attachments/assets/d0024d21-6235-4316-933d-0c545b4a61df">

_Fonte: Sensedia (Entenda o que é o Drex, o Real Digital, e os seus impactos para o setor financeiro)_

**1. Montar um Story Telling sobre o problema que você resolve e definir o tema**

**Tema do Trabalho**

Pagamentos Instantâneos entre empresas utilizando DREX (Real Digital)

**Problema a ser resolvido**

Imagine que uma pequena empresa no Brasil precisa pagar um fornecedor local rapidamente para garantir o envio de mercadorias. No entanto, os métodos tradicionais de pagamento, como boletos ou transferências bancárias via DOC/TED, podem ser lentos, além de custar taxas significativas. A empresa enfrenta atrasos, o que prejudica sua cadeia de suprimentos e o relacionamento com os fornecedores. 

**Proposta de Solução**

O DREX permite que essa empresa realize transferências de dinheiro entre instituições financeiras utilizando contratos inteligentes de forma instantânea, 24 horas por dia, 7 dias por semana. As transações ocorrem diretamente entre as partes por meio de uma infraestrutura segura baseada em blockchain, com custos reduzidos e maior agilidade, garantindo que o fluxo de produtos e serviços não seja interrompido.

**2. O que esperamos aprender com este projeto?**

Queremos entender como o DREX pode transformar as transações financeiras entre empresas no Brasil, otimizando prazos, reduzindo custos e eliminando ineficiências. Além disso, aprender como a implementação do DREX pode facilitar a gestão de caixa, melhorar a previsibilidade financeira e proporcionar maior segurança para as empresas.

**3. Que perguntas precisamos que sejam respondidas?**

- Como o DREX pode reduzir os custos de transações entre empresas no Brasil?
- Quais são os principais desafios de adoção do DREX no mercado nacional?
- Quais os impactos sobre a competitividade das pequenas e médias empresas?
- Como o DREX garante a segurança e integridade das transações financeiras?

**4. Quais são os nossos principais riscos?**

- Baixa adoção por parte das empresas, especialmente pequenas e médias, que podem ter receio em adotar uma nova tecnologia.
- Possíveis falhas técnicas ou de segurança no sistema, como ataques cibernéticos ou erros operacionais.
- Mudanças regulatórias que possam aumentar custos ou complexidade no uso da moeda digital.
- Desconfiança por parte de fornecedores ou parceiros comerciais.

**5. Plano para aprender o que precisamos para responder a perguntas específicas:**

- Realizar pesquisas de mercado para entender a aceitação e as barreiras percebidas pelas empresas no uso do DREX.
- Implementar projetos piloto com empresas de diferentes setores para verificar a viabilidade técnica e comercial da solução.
- Conduzir entrevistas com stakeholders e especialistas financeiros para avaliar os benefícios e desafios do sistema.
- Analisar o impacto financeiro com base em dados de empresas que participem dos pilotos.
- Benchmarking com outras instituições financeiras que participam do piloto liderado pelo Banco Central do Brasil (BACEN) cujo foco é o atacado.

**6. Plano para reduzir riscos:**

- Desenvolver programas de capacitação para que as empresas aprendam a utilizar o DREX com segurança.
- Realizar auditorias constantes para garantir que a segurança do sistema esteja sempre atualizada e preparada contra ataques.
- Engajar com reguladores para garantir que o DREX atenda às normativas existentes e se ajuste a futuras regulamentações.
- Criar uma campanha de conscientização para educar as empresas sobre os benefícios do DREX e como ele pode otimizar seus negócios.

**7. Quem são as partes interessadas?**

- Banco Central do Brasil como regulador e emissor do DREX.
- Empresas de pequeno, médio e grande porte que realizam transações financeiras frequentes.
- Fornecedores de soluções de pagamento que podem integrar o DREX em suas plataformas.
- Instituições financeiras que querem oferecer novos produtos baseados no Real Digital.

**8. O que eles esperam ganhar?**

- Banco Central: Modernização do sistema financeiro e aumento da eficiência econômica.
- Empresas: Redução de custos operacionais e maior agilidade no pagamento de fornecedores e parceiros.
- Fornecedores de pagamento: A oportunidade de inovar em suas plataformas e atrair mais clientes.
- Instituições financeiras: Novas linhas de negócios com a oferta de soluções ligadas ao DREX.

**9. Quem são os usuários?**

- Empresas que precisam realizar transferências instantâneas de dinheiro. Exemplo: pagamento de seus fornecedores.
- Empresas que buscam eficiência em suas operações financeiras e redução de custos.
- Instituições financeiras que querem participar do ecossistema do DREX, oferecendo novas soluções.

**10. O que eles estão tentando realizar?**

Os usuários desejam realizar pagamentos rápidos, seguros e de baixo custo para melhorar suas operações financeiras, garantindo que seus fluxos de caixa estejam sempre em dia, sem interrupções devido a prazos longos ou taxas elevadas.

**11. Qual o pior que pode acontecer?**

O pior cenário seria uma falha de segurança na tecnologia do DREX, resultando em perdas financeiras ou interrupção no sistema de pagamentos. Isso poderia prejudicar a confiança no Real Digital e afastar empresas da adoção da solução. 

Outro ponto que consideramos como ponto de atenção é a possível falta de adesão por parte das empresas, devido a problemas de usabilidade ou regulamentação, também poderia limitar o impacto da moeda. Uma pesquisa realizada em agosto de 2024, aponta que 35% das empresas estão se preparando para a chegada do DREX, buscando identificar casos de uso e pesquisando adequações que serão necessárias para a adoção da versão digital do real (link mencionado na seção Fontes de estudo e pesquisa deste material).

**12. Desenhe uma arquitetura (Modelo Freeform - Versão inicial)**

![img-q12-freeform](https://github.com/user-attachments/assets/121650c9-ea6e-46e0-a975-3c4d70bcb07f)

**13. Faça uma descrição de cada um dos componentes que você desenhou**

**- Front:** aplicação nativa Android e iOS.

**- Identity:** servidor de identidade responsável pela autenticação e autorização dos usuários da aplicação.

**- API Gateway:** componente responsável pela criação, publicação, manutenção, monitoramento e proteção de APIs.

**- BFF:** componente backend responsável por entregar experiência específica para cada dispositivo, melhorando a experiência dos usuários finais. Além disso, é a camada responsável pela autorização.

**- Cache:** Banco de dados em memória para armazenamento de rápido acesso e de curta duração.

**- Serviço DREX:** Serviço núcleo, onde constam as regras de negócio e os fluxos de negócio.

**- NoSQL:** Banco de dados não-relacional para armazenamento das entidades do serviço DREX.

**- Rede do Sistema Financeiro Nacional:** estrutura de comunicação de dados que tem por finalidade amparar o tráfego de informações no âmbito do SFN para serviços autorizados pelo Banco Central do Brasil.

**14. Descreva os requisitos que você (s) considera importante e por quê? (Mínimo 5)**

**Requisitos Funcionais Influentes (RFI)**

**REQ 1 - Registro e Autenticação de Empresas**

Cadastro e autenticação segura das empresas no sistema, com uso de assinatura digital ou autenticação multifator.

**REQ 2 - Transações Instantâneas**

Suporte a transações financeiras instantâneas entre empresas, com confirmação em tempo real e funcionamento 24/7.

**REQ 3 - Autorização e Aprovação de Pagamento**

Para permitir que exista um fluxo de controle dos pagamentos por pessoas autorizadas da empresa emissora.

**REQ 4 - Processamento Instantâneo da Transação**

Visando possibilitar que os pagamentos sejam mais ágeis e realizados de forma online.

**REQ 5 - Conciliação e Registro da Transação**

Para possibilitar que, logo que a transação concluída, os saldos do DREX de ambas as empresas sejam atualizados, haja rastreabilidade das transações efetuadas e ocorra a sensibilização dos ERPs das duas empresas.

**15. Sobre o que o diagrama ajuda você a raciocinar/pensar?**

Quais são os principais componentes envolvidos na solução.
Como o problema em questão foi dividido em partes menores.
Quais são os envolvidos diretamente e indiretamente na solução.

**16. Quais são os padrões essenciais no diagrama?**

Padrão de segmentação por camadas (Apresentação, Autenticação/Autorização, Cache, Camada de negócio e a rede DREX).

**17. Existem padrões ocultos?**

Os seguintes elementos não estão explícitos no desenho:

- Padrão EDA (Event Driven Architecture) para mensageria e integração com os demais sistemas interessados nos eventos.
- Utilização de Data Lake e Big Data para repositório de dados corporativo e utilização de Analytics.

**18. Qual é o Metamodelo?**

O metamodelo utilizado foi o C4.

**19. Pode ser discernido no diagrama único?**

Não pode ser discernido pois o diagrama C4 requer ao menos 3 níveis para representar a solução.

**20. O diagrama está completo?**

Não, uma vez que há itens de infraestrutura e tecnologia que não estão representados no diagrama. 

**21. Poderia ser simplificado e ainda assim ser eficaz?**

Não, uma vez que já está em um formato o mais enxuto possível de forma que não haja perda de informações relevantes.

**22. Houve alguma discussão importante que vocês tiveram como equipe?**

- Qual a diferença entre Drex e Real Tokenizado?
- Qual seria o modelo de negócio que iríamos seguir para utilização do DREX.
- Como a utilização de uma moeda digital pode diminuir fraudes fiscais.
- Por que o Banco Central precisa das instituições financeiras? Quais seriam os impactos para a economia se não participassem?
- A popularização do DREX pode facilitar a reforma tributária?

**23. Que decisões sua equipe teve dificuldade para tomar?**

- Quais seriam as possíveis formas de monetização da solução.
- Qual seria a melhor forma de hospedar os serviços (On-premises, Cloud ou Híbrido)
- Quais portes de empresa (tamanho) e segmentos seriam nosso público-alvo inicial.

**24. Quais decisões foram tomadas sob incerteza?**

- O time to market desejado foi elaborado sem uma data prevista de implantação do DREX pelo banco central do Brasil.
- A solução proposta foi desenhada ciente que a regulamentação para operação do DREX ainda não está pronta e que poderá sofrer muitas mudanças durante o piloto.

**25. Houve algum ponto de decisão sem retorno que o forçou a desistir de uma determinada escolha?**

Não, uma vez que nos baseamos na documentação do DREX fornecida pelo Banco Central do Brasil.

**26. Desenhe 3 arquiteturas com o projeto que você desenvolveu na aula em cada uma das camadas do C4? (Subir somente a imagem jpg/jpeg)**
Resposta contida nas questões seguintes (27, 28 e 29)

**27. Nível Contexto**

![img-q27-contexto](https://github.com/user-attachments/assets/31917e73-1cc8-4a03-a285-56ac9d176875)

**28. Nível Container**

![img-q28-container3](https://github.com/user-attachments/assets/121d332e-1661-416d-978a-0fca5fe84127)

![img-q28-container2](https://github.com/user-attachments/assets/dc297aca-e8d8-4e4c-9a32-d2279288a9d9)

![img-q28-container1](https://github.com/user-attachments/assets/0cca810b-97f4-4e5a-b824-0cba1162aebe)

**29. Nível Componente**

![img-q29-componente3](https://github.com/user-attachments/assets/2b9f5173-fe65-4fbe-aff2-9a595bcbee09)

![img-q29-componente2](https://github.com/user-attachments/assets/55de1b3c-8e54-4544-8bf1-fda7169938f9)

![img-q29-componente1](https://github.com/user-attachments/assets/3bf87784-a47c-4b3a-8ce5-4ff0560fc183)

**30. Code (Opcional)**

**31. Validar no checklist (opcional)**

**32. Gravar um vídeo explicando o projeto como um todo e desenhos.** 
Link da gravação na plataforma da FIAP
